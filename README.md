# Product Engineering Technical Assessment

## Overview

This repository contains a small Sinatra application which renders a line-graph
with two generated data-sets. The goal of this assessment is not to produce a
perfect or polished resul but to show what you can do and figure out on a short
time table so that can iterate on it later in the process.

<!--
autogenerated ToC from the Markdown All in One VSCode Extension:
https://marketplace.visualstudio.com/items?itemName=yzhang.markdown-all-in-one
-->
- [Overview](#overview)
- [The Assignments](#the-assignments)
  - [Add new stuff](#add-new-stuff)
  - [More than just the code](#more-than-just-the-code)
- [Getting Started](#getting-started)
  - [Get the assignment](#get-the-assignment)
  - [Setting up your computer](#setting-up-your-computer)
  - [Up and Running](#up-and-running)

## The Assignments

### Add new stuff

Choose one of the following assignments:

#### Add a new page

##### "Stack ALL the Things"

Add a new route to the application which houses a "revenue data".  The new route
should render a view that includes a stacked line graph representing the
(hopefully) increasing over time revenue per "Cohort".  A "Cohort" is a group of
customers who joined in the same period - depending on the age/maturity of the
company cohorts could be months or years.  Be sure to generate "realistic" data
that is displayed and some randomness for realism is welcome.

For inspiration below is a _very_ early mockup of such a graph:
<img src="docs/artifacts/cohort_revenue.png" alt="A graph starting in Fiscal Year 2015 and progressing through 2019.  For each year a layer is added to the group from left to right showing the additional revenue the new cohort adds to the company." width="800px" height="559px">

#### Add a new graph type (_Difficult_)

##### "Monkey Patch ApexCharts"

The [`styd/apexcharts.rb`](https://github.com/styd/apexcharts.rb) Ruby wrapper
to [ApexCharts](https://apexcharts.com/) does not provide all of the graph types
that the Javascript library provides - for example the Treemap graph type is not
supported.  Add support for Treemaps to this application such that there is a
`treemap(...)` view helper available to this application in exactly the same way
the `line_chart(...)` helper is provided by the Rubygem as seen in
`views/index.erb`.  The functionality you add should still call the ApexCharts
Treemap Javascript implementation as if the Ruby library had provided it.

### More than just the code

Choose one of the following and complete the assignment(s) within:

#### Testing

Part 1: Describe, defend, and critique your testing philosophy in less that 200
words per section.

_Example:_

> My testing philosophy at a high-level is ... (156 words)
>
> This philosophy allows [several good things] by [some behaviors] (193 words)
>
> This philosophy isn't always perfect [some ways it may not work out] (187 words)

Part 2: Assuming you prefer one of minitest or RSpec over the other, port the
existing (and any new specs from the above work) from your preferred tool to the
tool you prefer less.  If you have no preference flip a coin and include
photographic evidence of the coin-flip.

Describe any compromises you had to make in the process.  What improvements may
this change have introduced regardless of your initial preferences.

#### Developer Experience and Tooling

Part 1: Describe, defend, and critique your favorite developer tool used during
the process of building a web application inless that 200 words per section.

_Example:_

> My favorite tool to use while building [Web Apps, SPAs, APIs] is [tool] because ... (176 words)
>
> In particular [tool] enables me to [things it enables] ... (192 words)
>
> While [tool] is great one drawback is that it [isn't super great in some context] ... (181 words)

Part 2a: Add your favorite tool to the devcontainer packaged here and show what
it enables.

_or_

Part 2b: [`rubocop`](https://github.com/rubocop/rubocop) is a best-practices
linter for Ruby (which supports Rails as well).  Its mission is to standardize
the style of Ruby written so that code-review can be focussed on the important
contents of changes and not nit-picky around style things.  We like standards.
[`standardrb`](https://github.com/testdouble/standard) is effectively a "better"
set of rules for Rubocop.  Both are installed in your container and can be run
via `bundle exec rubocop` and `bundle exec standardrb` respectively.  Without
running them in autofix-mode run them, compare the outputs, and make a
recommendation on either running the suggested fixes or not doing so.

## Getting Started

### Get the assignment

1. This repository is a template repository. Please use the _`Use this template`_
to create a new _Private_ repository in your personal GitHub account:
<img src="./docs/artifacts/use_this_template.png" width="800px" height="246px" alt="Arrow pointing to the 'Use this template' button.">

2. On the next screen please select these options:
<img src="./docs/artifacts/create_new_private_repository.png" width="800px" height="617px" alt="Image indicating the use of a clear name, selecting Private as the repository visibility, and an arrow to 'Create repository from template'">

3. Add your Statype contact as an external contributor - they should have
  provided their Github Username but if they forgot please just ask:
<img src="./docs/artifacts/add_collaborator_to_private_repo.png" width="800px" height="500px" alt="Check that you have a private repository by looking for the lock button.  Click settings, then Collaborators, then 'Add people'.">

_Note_: The above screenshots are for our Analytics Engineering Technical
Assessment project and the steps should be nearly identical for this project -
just replace the words "Analytics Engineering" with "Product Engineering"
everywhere.

### Setting up your computer

_Prerequisites_:

- Ensure you have [VSCode](https://code.visualstudio.com/download) installed locally.
- Ensure you have [Docker](https://docs.docker.com/get-docker/) installed locally.

When you open this respository in VSCode you should be prompted to re-open the
project in a container which has Ruby pre-configured and libraries installed via
`bundle install`

### Up and Running

Once the devcontainer is running you can start the application via
`bundle exec ruby grapher.rb` which will connect the application to
your [localhost:4567](localhost:4567)

You can run all of the tests via `rake` or  `rake all` or the minitest tests via
`rake test` and the RSpecs via `rake spec`.
